<h2>导航🧭</h2>

- [准备工作](#准备工作)
  - [1. vue-cli脚手架初始化项目](#1-vue-cli脚手架初始化项目)
  - [2. 项目的其他配置](#2-项目的其他配置)
  - [3. 项目路由分析](#3-项目路由分析)
  - [4. 完成非路由组件Hesder与Footer业务](#4-完成非路由组件hesder与footer业务)
  - [5. 路由组件的搭建](#5-路由组件的搭建)
- [Footer组件显示与隐藏](#footer组件显示与隐藏)
- [路由传参](#路由传参)
- [三级联动组件完成](#三级联动组件完成)
- [axios二次封装](#axios二次封装)
- [nprogress进度条的使用](#nprogress进度条的使用)
- [vuex状态管理库](#vuex状态管理库)
- [函数的节流与防抖](#函数的节流与防抖)
- [三级联动组件的路由跳转与传递参数](#三级联动组件的路由跳转与传递参数)
  - [Search模块中的typeNav商品分类菜单（过渡动画）](#search模块中的typenav商品分类菜单过渡动画)
  - [商品分类三级列表优化](#商品分类三级列表优化)
- [mock数据](#mock数据)
## 准备工作

### 1. vue-cli脚手架初始化项目

node + webpack + 淘宝镜像

* node_modules文件夹：项目依赖文件夹

* public文件夹：一般放置一些静态资源（图片），需要注意，放在public文件夹中的静态资源webpack进行打包的时候，会原封不动打包到dist文件夹中。

* src文件夹（程序员源代码文件夹）:

    * assets文件夹：一般也是放置静态资源（一般放置多个组件公用的静态资源），需要注意，放置在assets文件夹里面的静态资源，在webpack打包过程中，webpack会把静态资源当作一个模块，打包到JS文件里面。

    * components文件夹：一般放置的是非路由组件（全局组件）

    * App.vue：唯一的根组件，Vue当中的组件（.vue)

    * main.js：程序的入口文件，整个程序之中最先执行的文件

* babel.config.js：配置文件（babel相关）

* package.js：记录项目当中有哪些依赖，项目怎么运行

* package-lock.json：缓存性文件

* README.md：说明性文件

### 2. 项目的其他配置

* 在`npm run serve`之后，让浏览器自动打开

```js
// vue.config.js配置文件
devServer: {
open: true,
host: '192.168.2.21',
port: 8080
},
```

* 关闭eslint校验工具

```js
// vue.config.js配置文件
lintOnSave: false,
```

### 3. 项目路由分析

vue-router（前端路由所谓的键值对）
* key：url(地址栏中的路径)
* value：相应的路由组件

注意：项目上中下结构

路由组件：
* Home首页
* Search搜索
* Login登录
* Register注册

非路由组件：
* Header组件【都有】
* footer组件【首页、搜索页】，登录、注册页没有

### 4. 完成非路由组件Hesder与Footer业务

项目开发流程：
1. 书写静态页面
2. 拆分组件
3. 获取服务器的数据动态展示
4. 完成相应的动态业务逻辑

注意1：创建组件的时候，组件结构 + 组件样式 + 图片资源

注意2：本项目采用less样式，浏览器不识别less样式，需要通过less、less-loader进行处理，使之成为浏览器可以识别的css样式。

注意3：如果想让组件识别less样式，需要在style标签的身上加上lang=less

使用组件的步骤（非路由组件）：
1. 创建或者定义
2. 引入
3. 注册
4. 使用

### 5. 路由组件的搭建

安装插件 vur-router

* components文件夹：一般放置非路由组件（全局共享组件）
* pages/views文件夹：一般放置路由组件

**配置路由：**

项目当中配置路由一般放置在router文件夹中

**总结：**

路由组件与非路由组件的区别？
* 路由组件一般放置在pages/views文件夹，非路由组件一般放置compons文件夹中
* 路由组件一般需要在router文件夹中进行注册（使用的即为组件的名字），非路由组件在使用的时候，一般都是以标签的形式使用
* 注册完路由，不管路由组件、还是非路由组件身上都有$router、$route属性

`$route`: 一般获取路由信息（路径、query、params等等）

`$router`: 一般进行编程式导航进行路由跳转（push/replace）

**路由的跳转：**

路由的跳转有两种形式：
* 声明式导航router-link
* 编程式导航push/replac

编程式导航：声明式导航能做的，编程式导航都可以，但是编程式导航除了可以进行路由跳转，还可以做一些其他的业务逻辑。

## Footer组件显示与隐藏

显示或者隐藏组件：v-if | v-show

显示：首页、搜索状态

隐藏：登录、注册状态

根据组件身上的$route获取当前路由的信息，通过路由路径判断Footer显示与隐藏。

配置路由的时候，可以给路由添加路由元信息【meta】，路由需要配置对象，它的key不能随便写，有预置属性。

## 路由传参

**参数的几种写法：**

params参数：属于路径当中的一部分，需要注意，在配置路由的时候，需要占位

query参数：不属于路径当中的一部分，不需要占位

## 三级联动组件完成

由于三级联动在Home、Search、Detail中使用，所以将三级联动组件注册为全局组件。

## axios二次封装

为什么需要进行二次封装axios?

请求拦截器：可以在发请求之前处理一些业务

响应拦截器：当服务器数据返回以后，可以处理一些事情

**API文件夹（axios）**

专门用于管理api各种接口

## nprogress进度条的使用

引入进度条和样式：

```js
// 引入进度条，start：开始  done：结束
import nProgress from 'nprogress'
// 引入进度条样式
import 'nprogress/nprogress.css'
```

## vuex状态管理库

官方提供的插件，状态管理库，集中式管理项目中组件共用的数据。

并不是全部项目都需要Vuex，如果项目小，完全不需要Vuex，如果项目大，组件很多、数据很多，数据维护很费劲，需要Vuex。

## 函数的节流与防抖

节流：在规定的间隔时间范围内不会重复触发回调，只有大于这个时间间隔才会触发回调，把频繁触发变为少量触发。

防抖：前面所有的触发都被取消，最后一次执行在规定的时间之后才会触发，也就是说如果连续快速触发，只会执行一次。

## 三级联动组件的路由跳转与传递参数

三级联动用户可以点击的：一级分类、二级分类、三级分类

点击的时候，Home模块跳转到Search模块，一级会把用户选中的产品（产品的名字、ID）在路由跳转的时候，进行传递。

路由跳转：
* 声明式导航：router-link
* 编程式导航：push | replace

三级联动：如果使用声明式导航router-link，可以实现路由的跳转与传递参数，但是需要注意，出现卡顿现象。

router-link：是一个组件，当服务器的数据返回之后，循环出很多的router-link组件，一瞬间会很耗内存，出现卡顿现象。

### Search模块中的typeNav商品分类菜单（过渡动画）

过渡动画：前提组件 | 元素务必有 v-if | v-show 指令才可以进行过渡动画

### 商品分类三级列表优化

在App根组件当中发请求【根组件mounted】执行一次

## mock数据

使用步骤：
1. 在项目当中src文件夹中新建mock文件夹
2. 准备json数据（mock文件夹中创建响应的json文件）
3. 把mock数据需要的图片放置到public文件夹中（public文件夹在打包的时候，会把相应的资源原封不动打包到dist文件夹中）
4. 创建mockServe.js文件，开始mock（虚拟数据），通过mockjs模块实现
5. mockServe.js文件在入口文件中引入（至少需要执行一次）